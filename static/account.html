<!-- /public/account (or /profile) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <title>My Account</title>
<link rel="stylesheet" href="/static/css/base.css">
<link rel="stylesheet" href="/static/css/account.css">
<!--  <link rel="stylesheet" href="/static/css/pages/index.css"> -->
</head>

  <div class="bg-gradient"></div>
  <div class="bg-grid"></div>
    <div id="site-header"></div>  
  
<body class="account-page">
  <div class="page">

    <header class="account-header">
      <div>
        <h1 class="page-title">My Account</h1>
        <p class="page-subtitle">Manage alerts, agreements, API access, and your plan.</p>
      </div>

      <div class="account-header-actions">
        <button
          class="btn-ghost"
          data-tab-jump="help"
        >
          Help
        </button>
        <button id="btn-signout" class="btn-ghost">Sign out</button>
      </div>
    </header>

    <div class="account-shell">
      <!-- LEFT NAV -->
      <aside class="account-rail">
        <button class="rail-item is-active" data-tab="overview">
          <span class="rail-dot"></span>
          Overview
        </button>
        <button class="rail-item" data-tab="alerts">
          <span class="rail-dot"></span>
          Email Alerts
        </button>
        <button class="rail-item" data-tab="agreements">
          <span class="rail-dot"></span>
          Agreements
        </button>
        <button class="rail-item" data-tab="api">
          <span class="rail-dot"></span>
          API
        </button>
        <button class="rail-item" data-tab="plan">
          <span class="rail-dot"></span>
          Plan
        </button>
        <button class="rail-item" data-tab="security">
          <span class="rail-dot"></span>
          Security
        </button>
                <button class="rail-item" data-tab="help">
          <span class="rail-dot"></span>
          Help & Support
        </button>
      </aside>

      <!-- RIGHT CONTENT -->
      <main class="account-panel">
        <!-- OVERVIEW -->
        <section class="tab-panel is-active" id="tab-overview">
          <div class="card">
            <div class="card-head">
              <h2>Account Snapshot</h2>
              <span class="badge" id="plan-badge">—</span>
            </div>

            <div class="kv-grid">
              <div class="kv">
                <div class="kv-label">Name</div>
                <div class="kv-value" id="me-name">—</div>
              </div>
              <div class="kv">
                <div class="kv-label">Email</div>
                <div class="kv-value" id="me-email">—</div>
              </div>
              <div class="kv">
                <div class="kv-label">Company</div>
                <div class="kv-value" id="me-company">—</div>
              </div>
              <div class="kv">
                <div class="kv-label">Alerts</div>
                <div class="kv-value">
                  <div class="pill-row" id="alerts-pills">
                    <span class="status-pill is-off" id="me-email_alerts">Email</span>
                    <span class="status-pill is-off" id="me-rest_alerts">REST</span>
                    <span class="status-pill is-off" id="me-webhook_alerts">Webhook</span>
                  </div>
                </div>
              </div>
              <div class="kv">
              <div class="kv-label">Plan</div>
              <div class="kv-value" id="me-plan">—</div>
            </div>
            <div class="kv">
              <div class="kv-label">Password</div>
              <div class="kv-value kv-inline">
                <span class="kv-mask">••••••••</span>
                <button class="link-btn" type="button" data-tab-jump="security">
                  Manage
                </button>
              </div>
            </div>
            </div>
          </div>


        </section>

        <!-- ALERTS -->
        <section class="tab-panel" id="tab-alerts">
          <div class="card">
            <div class="card-head">
              <h2>Email Alerts</h2>
              <p class="muted">Set global delivery preferences. Carrier-specific alert switches live on the carrier profile.</p>
            </div>

            <div class="row">
              <div>
                <div class="row-title">Alerts Master Switch</div>
                <div class="row-sub">If off, you won’t receive any carrier alerts by email.</div>
              </div>
              <label class="switch">
                <input type="checkbox" id="alerts-enabled">
                <span class="switch-ui"></span>
              </label>
            </div>

            <div class="divider"></div>

<div class="categories-header">
  <h3 class="section-h3">Categories</h3>

  <button
    class="btn-primary btn-save-inline"
    id="btn-save-alert-fields-top"
    disabled
  >
    Save changes
  </button>
</div>


            <div id="email-alert-fields">
              <!-- JS will render grouped categories + toggles here -->
            </div>
            
            <div class="alerts-save-row">
              <button class="btn-primary" id="btn-save-alert-fields" disabled>Save changes</button>
            </div>

          </div>
        </section>

        <!-- AGREEMENTS -->
        <section class="tab-panel" id="tab-agreements">
          <div class="card">
            <div class="card-head">
              <h2>Agreements</h2>
              <p class="muted">Pick your default agreement and manage templates.</p>
            </div>

            <div class="row">
              <button class="btn-primary" id="btn-set-default">Set default</button>
            </div>

            <div class="divider"></div>

            <div class="agreements-grid" id="agreements-grid">
              <div class="muted">Loading…</div>
            </div>
            
          </div>
        </section>

        <!-- API -->
        <section class="tab-panel" id="tab-api">
          <div class="card">
            <div class="card-head">
              <h2>API</h2>
              <p class="muted">Everything you need to integrate Carrier Shark into your workflow.</p>
            </div>

            <div class="row">
              <div>
                <div class="row-title">API Key</div>
                <div class="row-sub" id="api-key-masked">—</div>
              </div>
              <div class="row-actions">
                <button class="btn-ghost" id="btn-copy-key">Copy</button>
                <button class="btn-primary" id="btn-rotate-key">Rotate</button>
              </div>
            </div>

            <div class="divider"></div>

              <div class="api-row">
                <div class="api-left">
                  <div class="row-title">Webhook URL</div>
                </div>
              
                <div class="api-right">
                  <input
                    id="webhook-url"
                    type="url"
                    placeholder="https://example.com/webhooks/carrier-shark"
                    class="api-input"
                  />
                  <button class="btn-ghost" id="btn-save-webhook" disabled>
                    Save
                  </button>
                </div>
              </div>
            
            <div class="divider"></div>
            
            <div class="row">
              <div>
                <div class="row-title">Documentation</div>
                <div class="row-sub">Auth, endpoints, examples, error formats.</div>
              </div>
              <button class="btn-primary" id="btn-api-docs">Open docs</button>
            </div>
          </div>
        </section>

        <!-- PLAN -->
        <section class="tab-panel" id="tab-plan">
          <div class="card">
            <div class="card-head">
              <h2>Plan</h2>
              <p class="muted">Upgrade when you’re ready. No nonsense.</p>
            </div>

            <div class="plan-grid" id="plan-grid">
              <!-- populated by JS -->
            </div>
          </div>
        </section>

        <!-- SECURITY -->
        <section class="tab-panel" id="tab-security">
          <div class="card">
            <div class="card-head">
              <h2>Security</h2>
              <p class="muted">Keep your account tight.</p>
            </div>

            <div class="row">
              <div>
                <div class="row-title">Password</div>
                <div class="row-sub">Change your password anytime.</div>
              </div>
              <button class="btn-primary" id="btn-change-password">Change</button>
            </div>
          </div>
        </section>

        <!-- HELP -->
        <section class="tab-panel" id="tab-help">
          <div class="card">
            <div class="card-head">
              <h2>Help & Support</h2>
              <p class="muted">Get help fast. Keep moving.</p>
            </div>
        
            <!-- quick actions row -->
            <div class="row">
              <div>
                <div class="row-title">Contact Support</div>
                <div class="row-sub">Send a message to the team.</div>
              </div>
      <!--        <div class="row-actions">
                <button class="btn-ghost" id="btn-help-faq" type="button">FAQ</button>
                <button class="btn-primary" id="btn-help-contact" type="button">Contact</button>
              </div> -->
            </div>
        
            <div class="divider"></div>
        
            <!-- help shell -->
<div class="help-grid">
  <!-- LEFT: form -->
  <div class="help-card">
    <div class="help-card-title">Message</div>
    <div class="muted" style="margin-top:6px;">We typically reply within 1 business day.</div>

    <div class="help-form">
      <div class="field">
        <label class="field-label" for="help-contact-email">Contact email</label>
        <input class="field-input" id="help-contact-email" type="email" placeholder="you@company.com" />
      </div>

      <div class="field">
        <label class="field-label" for="help-contact-phone">Contact phone (optional)</label>
        <input class="field-input" id="help-contact-phone" type="tel" placeholder="(555) 555-5555" />
      </div>

      <div class="field">
        <label class="field-label" for="help-subject">Subject</label>
        <input class="field-input" id="help-subject" type="text" placeholder="What can we help with?" />
      </div>

      <div class="field">
        <label class="field-label" for="help-message">Message</label>
        <textarea class="field-input help-textarea" id="help-message" rows="7"
          placeholder="Include any details that help us solve this quickly."></textarea>
      </div>

      <div class="help-actions-row">
        <div class="help-footer-note">
          <span class="help-dot"></span>
          <span>
            <strong>Support will reach out</strong> via your contact info · typically within 1 business day
          </span>
        </div>
      
        <button class="btn-primary" id="btn-help-send" type="button" disabled>
          Send
        </button>
      </div>
      
      <div class="form-error" id="help-error" style="display:none;"></div>
      <div class="form-ok" id="help-ok" style="display:none;"></div>
    </div>
  </div>

  <!-- RIGHT: what happens next + tickets -->
  <div class="help-side">
    <div class="help-card">
      <div class="help-card-title">Your tickets</div>
      <div class="muted" style="margin-top:6px;">Recent requests from this account.</div>

      <div class="ticket-list" id="ticket-list">
        <div class="muted">Loading…</div>
      </div>
    </div>
  </div>
</div>

        </section>


      </main>
    </div>
  </div>

<!-- Change Password Modal -->
<div class="modal-backdrop" id="pw-modal" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="pw-title">
    <div class="modal-head">
      <h3 id="pw-title">Change password</h3>
      <button class="icon-btn" type="button" id="pw-close" aria-label="Close">✕</button>
    </div>

    <div class="modal-body">
      <div class="field">
        <label class="field-label" for="pw-current">Current password</label>
        <input class="field-input" id="pw-current" type="password" autocomplete="current-password" />
      </div>

      <div class="field">
        <label class="field-label" for="pw-new">New password</label>
        <input class="field-input" id="pw-new" type="password" autocomplete="new-password" />
        <div class="muted" style="margin-top:6px;">Minimum 8 characters.</div>
      </div>

      <div class="field">
        <label class="field-label" for="pw-confirm">Confirm new password</label>
        <input class="field-input" id="pw-confirm" type="password" autocomplete="new-password" />
      </div>

      <div class="form-error" id="pw-error" style="display:none;"></div>
      <div class="form-ok" id="pw-ok" style="display:none;"></div>
    </div>

    <div class="modal-actions">
      <button class="btn-ghost" type="button" id="pw-cancel">Cancel</button>
      <button class="btn-primary" type="button" id="pw-save">Update password</button>
    </div>
  </div>
</div>

  
  <script src="/js/shared/shared.js" defer></script>
  <script src="/static/js/pages/account.js"></script>
  
</body>
</html>
